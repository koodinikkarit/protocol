syntax = "proto3";

package SeppoService;

import "song_database.proto";
import "song_database_variation.proto";
import "ew_database.proto";
import "ew_song.proto";
import "ew_verse.proto";
import "tag.proto";
import "language.proto";

import "variation.proto";
import "variation_text.proto";
import "tag_variation.proto";
import "song_database_tag.proto";
import "language_variations.proto";


service Seppo {
	// Queries
	
	rpc fetchVariationById(FetchVariationByIdRequest) returns(FetchVariationByIdResponse) {}
	rpc searchVariations(SearchVariationsRequest) returns(SearchVariationsResponse) {}
	rpc listenForChangedEwSong(ListenForChangedEwSongRequest) returns(stream EwSong) {}

	rpc fetchSongDatabases(FetchSongDatabasesRequest) returns (SongDatabasesConnection) {}
	rpc fetchSongDatabaseById(FetchSongDatabaseByIdRequest) returns(FetchSongDatabaseByIdResponse) {}

	rpc fetchEwDatabases(FetchEwDatabasesRequest) returns(EwDatabasesConnection) {}
	rpc fetchEwDatabaseById(FetchEwDatabaseByIdRequest) returns(FetchEwDatabaseByIdResponse) {}

	rpc fetchVariationsBySongDatabaseId(FetchVariationsBySongDatabaseIdRequest) returns(FetchVariationsBySongDatabaseIdResponse) {}

	rpc fetchVariationTextByVariationId(FetchVariationTextByVariationIdRequest) returns(FetchVariationTextByVariationIdResponse) {}

	rpc searchTags(SearchTagsRequest) returns(TagsConnection) {}
	rpc fetchTagById(FetchTagByIdRequest) returns(FetchTagByIdResponse) {}

	rpc searchLanguages(SearchLanguagesRequest) returns(LanguagesConnection) {}
	rpc fetchLanguageById(FetchLanguageByIdRequest) returns(FetchLanguageByIdResponse) {}

	rpc fetchVariationTags(FetchVariationTagsRequest) returns(FetchVariationTagsResponse) {}
	rpc fetchTagVariations(FetchTagVariationsRequest) returns(FetchTagVariationsResponse) {}
	rpc fetchTagSongDatabases(FetchTagSongDatabasesRequest) returns(FetchTagSongDatabasesResponse) {}
	rpc fetchSongDatabaseTags(FetchSongDatabaseTagsRequest) returns(FetchSongDatabaseTagsResponse) {}
	rpc fetchLanguageVariations(FetchLanguageVariationsRequest) returns(FetchLanguageVariationsResponse) {}

	// Mutations

	rpc createVariation(CreateVariationRequest) returns(CreateVariationResponse) {}
	rpc editVariation(EditVariationRequest) returns(EditVariationResponse) {}
	rpc removeVariation(RemoveVariationRequest) returns(RemoveVariationResponse) {}

	rpc createSongDatabase(CreateSongDatabaseRequest) returns(CreateSongDatabaseResponse) {}
	rpc editSongDatabase(EditSongDatabaseRequest) returns(EditSongDatabaseResponse) {}
	rpc removeSongDatabase(RemoveSongDatabaseRequest) returns(RemoveSongDatabaseResponse) {}

	rpc createEwDatabase(CreateEwDatabaseRequest) returns(CreateEwDatabaseResponse) {}
	rpc editEwDatabase(EditEwDatabaseRequest) returns(EditEwDatabaseResponse) {}
	rpc removeEwDatabase(RemoveEwDatabaseRequest) returns(RemoveEwDatabaseResponse) {}

	rpc addVariationToSongDatabase(AddVariationToSongDatabaseRequest) returns(AddVariationToSongDatabaseResponse) {}
	rpc removeVariationFromSongDatabase(RemoveVariationFromSongDatabaseRequest) returns(RemoveVariationFromSongDatabaseResponse) {}

	rpc syncEwDatabase(SyncEwDatabaseRequest) returns(SyncEwDatabaseResponse) {}
	rpc insertEwSongIds(InsertEwSongIdsRequest) returns(InsertEwSongIdsResponse) {}
	rpc changeEwSongIds(ChangeEwSongIdsRequest) returns(ChangeEwSongIdsResponse) {}

	rpc createTag(CreateTagRequest) returns(CreateTagResponse) {}
	rpc editTag(EditTagRequest) returns(EditTagResponse) {}
	rpc removeTag(RemoveTagRequest) returns(RemoveTagResponse) {}

	rpc createLanguage(CreateLanguageRequest) returns(CreateLanguageResponse) {}
	rpc editLanguage(EditLanguageRequest) returns(EditLanguageResponse) {}
	rpc removeLanguage(RemoveLanguageRequest) returns(RemoveLanguageResponse) {}

	rpc addTagToVariation(AddTagToVariationRequest) returns(AddTagToVariationResponse) {}
	rpc removeTagFromVariation(RemoveTagFromVariationRequest) returns(RemoveTagFromVariationResponse) {}
	rpc addTagToSongDatabase(AddTagToSongDatabaseRequest) returns(AddTagToSongDatabaseResponse) {}
	rpc removeTagFromSongDatabase(RemoveTagFromSongDatabaseRequest) returns(RemoveTagFromSongDatabaseResponse) {}
}